<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Homepage</title>
	
	<link rel="stylesheet" href="Page.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="shoppingCart.js"></script> 

</head>

<body>
	
	<nav class="navbar navbar-default" id="navcolor">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" style="color: #ffffff; vertical-align: middle;">Online Shopping</a>
			</div>
			<div class="nav navbar-nav navbar-right">
				<button type="button" class="btn btn-link" style="color: #ffffff;vertical-align: middle;">
					<span class="glyphicon glyphicon-shopping-cart" style="font-size: 20px; vertical-align: middle;">Cart</span><span class="badge" id="count-cart">X</span>
				</button>
			</div>	
		</div>
	</nav>	
	
	<div class="container-fluid">
		
		<div class="col-md-8" id="ProductSide">
			<div class="row">		
				<button id="list" class="btn btn-link btn-lg pull-right" type="button"><span class="glyphicon glyphicon-th-list"></span></button>
				<button id="grid" class="btn btn-link btn-lg pull-right" type="button"><span class="glyphicon glyphicon-th"></span></button>
			</div>
			
			<div id="products" class="row list-group">
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P1.jpg" alt="P1" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Headphones<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								House of Marley</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$130</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Headphones" data-price="130" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P2.jpg" alt="P2" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Shoes<span class="label label-default pull-right">Out of Stock</span></h4>
							<p class="group inner list-group-item-text">
								Sports Shoes</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$100</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Shoes" data-price="100" disabled="disabled" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P3.jpg" alt="P3" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Cold Cream<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								For all</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$130</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Cold cream" data-price="130" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P4.jpg" alt="P4" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Sandal<span class="label label-default pull-right">Out of Stock</span></h4>
							<p class="group inner list-group-item-text">
								Wood texture</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$50</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Sandal" data-price="50" disabled="disabled" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P5.jpg" alt="P5" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Smart Watches<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								Android Wear</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$2322</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Smart Watches" data-price="2322" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P6.jpg" alt="P6" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Charger<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								Laptop Charger</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$97</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Laptop Charger" data-price="97" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P7.jpg" alt="P7" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Speakers<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								Car Accessory</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$65</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Speakers" data-price="65" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P8.jpg" alt="P8" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								WD Hard Disk<span class="label label-default pull-right" id="InStock">In Stock</span></h4>
							<p class="group inner list-group-item-text">
								High Performance HDD</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$95</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="WD Hard Disk" data-price="95" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="item  col-xs-4 col-lg-4">
					<div class="thumbnail">
						<img class="group list-group-image" src="images/P9.jpg" alt="P9" />
						<div class="caption">
							<h4 class="group inner list-group-item-heading">
								Jacket<span class="label label-default pull-right">Out of Stock</span></h4>
							<p class="group inner list-group-item-text">
								For men</p>
							<div class="row">
								<div class="col-xs-12 col-md-5">
									<p class="lead">
										$56</p>
								</div>
								<div class="col-xs-12 col-md-7">
									<button id="AddtoCartButton" type="button" href="#" class="btn btn-default add-to-cart" data-name="Jacket" data-price="56" disabled="disabled" style="color: #ffffff">ADD TO CART</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="col-md-4 col-sm-4" id="CartSide">
			<div class="row" id="CartSideHead">
				<h3 style="color: #2478e5">Your Shopping Cart</h3>
			</div>	
			
			<div>
				<ul id="show-cart">
					<li>???????</li>
				</ul>
				<div>Total Cart:$<span id="total-cart"></span></div>
			</div>
			
			<hr id="hline">
			<button class="btn btn-danger" id="clear-cart">Clear Cart</button>
		</div>
	</div>
	
	<script>
            $(".add-to-cart").click(function(event){
                event.preventDefault();
                var name = $(this).attr("data-name");
                var price = Number($(this).attr("data-price"));
                shoppingCart.addItemToCart(name, price, 1);
                displayCart();
            });
            $("#clear-cart").click(function(event){
                shoppingCart.clearCart();
                displayCart();
            });
            function displayCart() {
                var cartArray = shoppingCart.listCart();
                console.log(cartArray);
                var output = "";
                for (var i in cartArray) {
                    output += "<li>"
                        +cartArray[i].name
                        +" <input class='item-count' type='number' style='width:50px' data-name='"
                        +cartArray[i].name
                        +"' value='"+cartArray[i].count+"' >"
                        +" x "+cartArray[i].price
                        +" = "+cartArray[i].total
                        +" <button class='plus-item' data-name='"
                        +cartArray[i].name+"'>+</button>"
                        +" <button class='subtract-item' data-name='"
                        +cartArray[i].name+"'>-</button>"
                        +" <button class='delete-item' data-name='"
                        +cartArray[i].name+"'>X</button>"
                        +"</li>";
                }//style='width:50px'
                $("#show-cart").html(output);
                $("#count-cart").html( shoppingCart.countCart() );
                $("#total-cart").html( shoppingCart.totalCart() );
            }
            $("#show-cart").on("click", ".delete-item", function(event){
                var name = $(this).attr("data-name");
                shoppingCart.removeItemFromCartAll(name);
                displayCart();
            });
            $("#show-cart").on("click", ".subtract-item", function(event){
                var name = $(this).attr("data-name");
                shoppingCart.removeItemFromCart(name);
                displayCart();
            });
            $("#show-cart").on("click", ".plus-item", function(event){
                var name = $(this).attr("data-name");
                shoppingCart.addItemToCart(name, 0, 1);
                displayCart();
            });
            $("#show-cart").on("change", ".item-count", function(event){
                var name = $(this).attr("data-name");
                var count = Number($(this).val());
                shoppingCart.setCountForItem(name, count);
                displayCart();
            });
            displayCart();
    </script>
</body>

</html>